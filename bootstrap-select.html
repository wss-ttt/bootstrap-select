<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-select.css">
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/bootstrap-select.js"></script>
</head>

<body>
	<h2>常规</h2>
    <select class="selectpicker">
        <option value="1">广东省</option>
        <option value="2">广西省</option>
        <option value="3">福建省</option>
        <option value="4">湖南省</option>
        <option value="5">山东省</option>
    </select>

	<h2>搜索框</h2>
    <select class="selectpicker" data-live-search="true">
        <option value="1">广东省</option>
        <option value="2">广西省</option>
        <option value="3">福建省</option>
        <option value="4">湖南省</option>
        <option value="5">山东省</option>
    </select>
    <h2>多选</h2>
    <select class="selectpicker" id="sel3" multiple>
        <option value="1">广东省</option>
        <option value="2">广西省</option>
        <option value="3">福建省</option>
        <option value="4">湖南省</option>
        <option value="5">山东省</option>
    </select>
    <h2>分组</h2>
    <select class="selectpicker" id="sel4" multiple>
        <optgroup label="湖北省">
        	<option value="武汉市">武汉市</option>
            <option value="黄石市">黄石市</option>
            <option value="黄冈市">黄冈市</option>
        </optgroup>
        <optgroup label="河南省">
            <option>焦作市</option>
            <option>郑州市</option>
            <option>信阳市</option>
        </optgroup>
    </select>
    <button class="btn btn-primary" id="btn">回显</button>
    <button class="btn btn-primary" id="btn2">获取选中的值</button>
    <div class="box">
    	
    </div>

</body>

<script type="text/javascript">
	//回显
	$('#btn').click(function(){
		$('#sel4').selectpicker('val',['武汉市','黄石市'])
	});
	$('#btn2').click(function(){
		var val = $('#sel4').selectpicker('val');   // 可以获取选中的值
		// console.log(val);
	});
	// 改变事件
	$('#sel4').change(function(){
		var vals=[];
		$('#sel4 option:selected').each(function(){
			// console.log(this);
			var obj={};
			var group = $(this).closest('optgroup').attr('label');
			obj[group]=$(this).val();	
			vals.push(obj);
		});
		// console.log(vals);
		var str='';
		vals.forEach(function(ele,index){
			// console.log(ele);
			for(let [key,value] of Object.entries(ele)){
				str+=key+":"+value+"<br>";
			}
		});
		$('.box').html(str);
	});
</script>
</html>